\section{Критерий за разрешимост}

\marginpar{Sipser нарича това Mapping Reducibility \cite[235]{sipser3}.}

\begin{framed}
  Доказателството, че $\Laccept$ не е разрешим е пример за една обща схема, с която можем да докажем, че даден език не е разрешим:
  \begin{itemize}
  \item 
    Нека имаме езика $K$, за който вече знаем, че не е разрешим.
    В нашия пример, $K = \Laccept$.
  \item
    Питаме се дали езика $L$ е разрешим.
  \item
    Намираме изчислима тотална функция $f$, за която
    \[\omega \in K \iff f(\omega) \in L.\]
    В нашия пример $f(\omega) = \omega \cdot \omega$.
  \item
    Тогава, ако $L$ е разрешим ще следва, че $K$ е разрешим, което е противоречие.
  \end{itemize}
\end{framed}

\begin{prop}
  Докажете, че езикът
  \[L_{\texttt{All}} \df \{\code{\M} \mid \M\text{ е машина на Тюринг и }\L(\M) = \Sigma^\star\}\]
  не е разрешим.
\end{prop}
\begin{proof}
  \marginpar{Този език не е дори полуразрешим, но за момента не знаем как да докажем това.}
  Ще покажем, че съществува тотална изчислима функция $f$, за която:
  \[\alpha \in \Laccept \iff f(\alpha) \in L_{\texttt{All}}.\]

  Ще опишем алгоритъм, за който при входна дума $\code{\M}$ 
  връща код на машината на Тюринг $\M'$, която работи по следния начин:
  \marginpar{За различни $\M$ получаваме различни $\M'$.}
  \begin{itemize}
  \item 
    Вход дума $\alpha$;
  \item
    Първоначално $\M'$ не обръща внимание на $\alpha$.
  \item
    $\M'$ симулира работата на $\M$ върху думата $\code{\M}$;
    \begin{itemize}
    \item 
      Ако след краен брой стъпки $\M$ завърши като приеме думата $\code{\M}$,
      то $\M'$ приема думата $\alpha$, т.е. $\M'$ завършва в състоянието $q_{\texttt{accept}}$.
    \item
      Ако след краен брой стъпки $\M$ завърши като отхрърли думата $\code{\M}$,
      то $\M'$ отхвърля думата $\alpha$, т.е. $\M'$ завършва в състоянието $q_{\texttt{reject}}$.
    \item
      В противен случай, $\M$ никога не завършва върху $\code{\M}$.
      Това означава, че $\M'$ никога не завършва върху входа $\alpha$
      и следователно $\M'$ не приема думата $\alpha$.
    \end{itemize}
  \end{itemize}
  Получаваме, че:
  \begin{align*}
    & \code{\M} \in \Laccept \implies \L(\M') = \Sigma^\star \implies \code{\M'} \in L_{\texttt{All}},\\
    & \code{\M} \not\in \Laccept \implies \L(\M') = \emptyset \implies \code{\M'} \not\in L_{\texttt{All}}.
  \end{align*}
  Сега вече трябва да е ясно, че следната тотална функция е изчислима:
  \begin{align*}
    f(\alpha) =
    \begin{cases}
      \code{\M'}, & \text{ако }\alpha = \code{\M}\\
      \alpha, & \text{иначе}.
    \end{cases}
  \end{align*}
  Тогава получаваме, че
  \[\alpha \in \Laccept \iff f(\alpha) \in L_{\texttt{All}}\]
  и ако допуснем, че $L_{\texttt{All}}$ е разрешим език, то $\Laccept$ също ще е разрешим, което е противоречие.
\end{proof}

\begin{cor}
  Езикът
  \[\ov{L}_{\texttt{Empty}} \df \{\code{\M} \mid \M\text{ е М.Т. и }\L(\M) \neq \emptyset\}\]
  е полуразрешим, но не е разрешим.
\end{cor}

\begin{cor}
  Езикът
  \[L_{\texttt{Empty}} \df \{\code{\M} \mid \M\text{ е М.Т. и }\L(\M) = \emptyset\}\]
  не е полуразрешим.
\end{cor}
\begin{hint}
  Ако $L_{\texttt{Empty}}$ беше разрешим, то
  \[\ov{L}_{\texttt{Empty}} = \{0,1\}^\star \setminus L_{\texttt{Empty}} \cap \{\code{\M} \mid \M\text{ е М.Т.}\}\]
  щеше да е разрешим език, което е противоречие.

  Ако $L_{\texttt{Empty}}$ беше полуразрешим, тогава, използвайки, че $\ov{L}_{\texttt{Empty}}$ е полуразрешим, от теоремата на Клини-Пост щеше да следва, че
  $L_{\texttt{Empty}}$ е разрешим, което е противоречие
\end{hint}

\begin{problem}
  Докажете, че езикът
  \[L_{\texttt{Tot}} = \{\code{\M} \mid \M\text{ е тотална машина на Тюринг}\}\]
  не е разрешим.
\end{problem}

\begin{framed}
  \begin{prop}
    Езикът
    \[L_{\texttt{reg}} \df \{\ \code{\M} \mid \M\text{ е машина на Тюринг и }\L(\M) \text{ е регулярен език}\ \}\]
    не е разрешим.
  \end{prop}
\end{framed}
\begin{proof}
  \marginpar{\cite{sipser3} стр. 219}
  Да фиксираме един език, за който знаем, че не е регулярен, например, 
  $\{0^n1^n \mid n \in \Nat\}$.

  Дефинираме алгоритъм, за който по вход $\code{\M}$ 
  връща код на машината на Тюринг $\M'$, която работи по следния начин:
  \begin{itemize}
  \item 
    Вход думата $\alpha$;
  \item
    Ако $\alpha = 0^n1^n$, за някое $n$, то $\M'$ приема думата $\alpha$.
  \item
    Ако $\alpha$ не е от вида $0^n1^n$, тогава $\M'$ симулира $\M$ върху думата $\code{\M}$.
    \begin{itemize}
    \item 
      Ако след краен брой стъпки $\M$ завърши като приеме думата $\code{\M}$, то $\M'$ приема $\alpha$.
    \item
      Ако след краен брой стъпки $\M$ завърши като отхвърли думата $\code{\M}$, то $\M'$ отхвърля думата $\alpha$.
    \item
      В противен случай, $\M$ никога не завършва върху $\code{\M}$.
      Това означава, че $\M'$ никога не завършва върху входа $\alpha$
      и следователно $\M'$ не приема думата $\alpha$.
    \end{itemize}
  \end{itemize}
  Получаваме, че:
  \begin{align*}
    & \code{\M} \in \Laccept \implies \L(\M') = \Sigma^\star \implies \code{\M'} \in L_{\texttt{reg}},\\
    & \code{\M} \not\in \Laccept \implies \L(\M') = \{0^n1^n \mid n \in \Nat\} \implies \code{\M'} \not\in L_{\texttt{reg}}.
  \end{align*}
  Сега вече трябва да е ясно, че следната тотална функция е изчислима:
  \begin{align*}
    f(\alpha) =
    \begin{cases}
      \code{\M'}, & \text{ако }\alpha = \code{\M}\\
      \alpha, & \text{иначе}.
    \end{cases}
  \end{align*}
  Тогава получаваме, че
  \[\alpha \in \Laccept \iff f(\alpha) \in L_{\texttt{All}}\]
  и ако допуснем, че $L_{\texttt{reg}}$ е разрешим език, то $\Laccept$ също ще е разрешим, което е противоречие.  
\end{proof}

Сега ще видим, че идеята, която следваме в горните доказателства може да се обобщи.
Нека $\Ss$ е множество от полуразрешими езици над фиксирана азбука $\Sigma$.
% \marginpar{$\Ss = \{L \mid L\text{ се разпознава от М.Т. с}\\\text{по-малко от 10 състояния}$. Това защо не върши работа?}
Например, 
\[\Ss = \{L \subseteq \Sigma^\star \mid L\text{ е регулярен език}\}.\]
Ще казваме, че $\Ss$ е свойство на полуразрешимите езици.
$\Ss$ е {\bf тривиално свойство}, ако $\Ss = \emptyset$ или $\Ss$ съдържа точно всички полуразрешими езици.
Нека разгледаме изброимото множество от машини на Тюринг, които разпознават езиците от $\Ss$.
Ще представим това множество като език от кодовете на тези машини на Тюринг, т.е.
\[L_\Ss \df \{\code{\M} \mid \text{$\M$ е машина на Тюринг и } \L(\M) \in \Ss\}.\]

\begin{framed}
  \begin{thm}[Райс]
    \index{Райс}
    Всяко нетривиално свойство $\Ss$ на полуразрешимите езици е неразрешимо.
  \end{thm}  
\end{framed}
\begin{proof}
  \marginpar{\cite[стр. 188]{hopcroft1}}
  \marginpar{Цел: да сведем ефективно $\Laccept$ към $L_\Ss$}
  Без ограничение на общността, нека $\emptyset \not\in \Ss$.
  Понеже $\Ss$ е нетривиално свойство, да разгледаме езика $L \in \Ss$,
  като $\M_L$ е машина на Тюринг, за която $\L(\M_L) = L$.
  Да разгледаме алгоритъм, който по дадена дума $\code{\M}$
  връща код на машина на Тюринг $\M'$, която зависи от $\M$ и от $\M_L$.
  Тя работи по следния начин:
  \begin{itemize}
  \item
    \marginpar{Неформално описваме функцията $\delta$ за $\M'$}
    вход думата $\alpha$;
  \item
    първоначално $\M'$ не обръща внимание на $\alpha$;
  \item
    $\M'$ симулира $\M$ върху думата $\code{\M}$.
    \begin{itemize}
    \item
      \marginpar{в този случай ще получим, че $\L(\M') = L$}
      ако след краен брой стъпки $\M$ завърши като приеме думата $\code{\M}$, то 
      $\M'$ симулира $\M_L$ върху входната дума $\alpha$;
      \begin{itemize}
      \item
        ако след краен брой стъпки $\M_L$ завърши като приеме думата $\alpha$, то 
        $\M'$ приема $\alpha$;
      \item 
        ако след краен брой стъпки $\M_L$ завърши като отхвърли думата $\alpha$, то 
        $\M'$ отхвърля $\alpha$;
      \item
        ако $\M_L$ никога не завършва върху $\alpha$, то 
        $\M'$ никога няма да завърши върху $\alpha$ и следователно $\M'$
        не приема $\alpha$.
      \end{itemize}
    \item
      \marginpar{при тези два случая ще получим, че $\L(\M') = \emptyset$}
      ако след краен брой стъпки $\M$ завърши като отхвърли думата $\code{\M}$, то 
      $\M'_\omega$ отхвърля $\alpha$;
    \item
      Ако $\M$ никога не свършва върху $\code{\M}$, то $\M'$ никога няма да свърши върху $\alpha$,
      което означава, че $\M'$ не приема $\alpha$.      
    \end{itemize}
  \end{itemize}
  От всичко това следва, че така описаната машина на Тюринг $\M'$ има свойствата:
  \begin{align*}
    & \code{\M} \in \Laccept \implies \L(\M') = L \implies \L(\M') \in \Ss,\\
    & \code{\M} \not\in \Laccept \implies \L(\M') = \emptyset \implies \L(\M') \not\in \Ss.
  \end{align*}
  Сега вече трябва да е ясно, че следната тотална функция е изчислима:
  \begin{align*}
    f(\alpha) =
    \begin{cases}
      \code{\M'}, & \text{ако }\alpha = \code{\M}\\
      \alpha, & \text{иначе}.
    \end{cases}
  \end{align*}
  Тогава получаваме, че
  \[\alpha \in \Laccept \iff f(\alpha) \in L_{\Ss}\]
  и ако допуснем, че $L_\Ss$ е разрешимо множество, то ще следва, че $\Laccept$ е разрешимо, което е противоречие.

  Ако $\emptyset \in \Ss$, то правим горните разсъждения за класа 
  \[\ov{\Ss} = \{\ \L(\M) \mid \M\text{ е М.Т. и }\L(\M) \not\in\Ss\ \}.\]
  По аналогичен начин доказваме, че $L_{\ov{\Ss}}$ не е разрешим език.
  Понеже 
  \[L_{\ov{\Ss}} = (\{0,1\}^\star \setminus L_{\Ss}) \cap \{\code{\M} \mid \M \text{ е машина на Тюринг}\},\]
  то $L_{\Ss}$ също не е разрешим език.
\end{proof}

\begin{cor}
  За всяко от следните свойства $\Ss$ на полуразрешимите множества, 
  $L_\Ss$ {\bf не} е разрешим език, където:
  \begin{enumerate}[a)]
  \item 
    $\Ss$ е свойството празнота, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и } \L(\M) = \emptyset\}\]
    не е разрешим;
  \item 
    $\Ss$ е свойството за пълнота, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и } \L(\M) = \Sigma^\star\}\]
    не е разрешим;
  \item
    $\Ss$ е свойството крайност, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и }|\L(\M)| < \infty\}\]
    не е разрешим;
  \item
    $\Ss$ е свойството безкрайност, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и }|\L(\M)| = \infty\}\]
    не е разрешим;
  \item
    $\Ss$ е свойството регулярност, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и $\L(\M)$ е регулярен език}\}\]
    не е разрешим;
  \item
    $\Ss$ е свойството безконтекстност, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и $\L(\M)$ е безконтекстен}\}\]
    не е разрешим;
  \item
    $\Ss$ е свойството разрешимост, т.е. езикът
    \[L_\Ss = \{\code{\M} \mid \text{$\M$ е машина на Тюринг и $\L(\M)$ е разрешим}\}\]
    не е разрешим.
  \end{enumerate}
\end{cor}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../eai"
%%% End:

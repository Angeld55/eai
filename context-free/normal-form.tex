\subsection{Нормална Форма на Чомски}
\index{Чомски}
%[стр. 99 от \cite{sipser}]
\index{нормална форма на Чомски}
Една безконтекстна граматика е в {\bf нормална форма на Чомски}, ако
всяко правило е от вида
\[A \rightarrow BC\mbox{ и }A \rightarrow a,\]
като $B, C$ {\em не могат} да бъдат променливата за начало $S$.
Освен това, позволяваме правилото $S\to\varepsilon$.
\footnote{В \cite[стр. 151]{papadimitriou} дефиницията е малко по-различна.
Там дефинират $G$ да бъде в нормална форма на Чомски ако $R \subseteq V\times(V\cup\Sigma)^2$.
В този случай губим езиците $\{\varepsilon\}$ и $\{a\}$, за $a\in\Sigma$.}

\begin{framed}
  \begin{thm}
    Всеки безконтекстен език $L$ се поражда от безконтекстна граматика в нормална форма на Чомски.
  \end{thm}
\end{framed}
\begin{proof}
%  \marginpar{Броят на правилата може да се увеличи експоненциално.}
  Нека имаме контекстно-свободна граматика $G$, за която $L = \L(G)$.
  Ще построим безконтекстна граматика $G^\prime$ в нормална форма на Чомски, $L = \L(G^\prime)$.
  % [стр. 99 от \cite{sipser}]
  Следваме следната процедура:
  \begin{itemize}
  \item
    Добавяме нов начален символ $S_0$ и правило $S_0 \to S$.
  \item
    Премахваме дългите правила.
    Това можем да направим за време $\mathcal{O}(|G|)$
    като новата граматика ще има дължина $\mathcal{O}(|G|)$.
  \item
    Премахваме $\varepsilon$-правилата.
    Това можем да направим за време $\mathcal{O}(|G|^2)$
    като новата граматика ще има дължина $\mathcal{O}(|G|)$.
  \item
    Премахваме преименуващите правила.
    Това можем да направим за време $\mathcal{O}(|G|^2)$
    като новата граматика ще има дължина $\mathcal{O}(|G|^2)$.
  \item
    За правила от вида $A\to u_1 u_2$, където $u_1, u_2 \in V \cup \Sigma$, 
    заменяме всяка буква $u_i$ с новата променлива $U_i$
    и добавяме правилото $U_i\to u_i$.
    Например, правилото $A \to aB$ се заменя с правилото $A \to XB$ и добавяме правилото $X \to a$,
    където $X$ е нова променлива.
    Това можем да направим за време $\mathcal{O}(|G|)$ и новата граматика ще има дължина $\mathcal{O}(|G|)$.
  \end{itemize}
\end{proof}

\begin{thm}
  При дадена безконтекстна граматика $G$, можем да намерим еквивалентна
  на нея граматика $G'$ в нормална форма на Чомски за време $\mathcal{O}(|G|^2)$,
  като получената граматика е с дължина $\mathcal{O}(|G|^2)$.
\end{thm}

\begin{thm}
  \marginpar{\cite[стр. 137]{hopcroft1}}
  Съществуват алгоритми, които определят по дадена безконтекстна граматика $G$ дали:
  \begin{enumerate}[a)]
  \item
    $\abs{\L(G)} < \infty$;
  \item
    $\abs{\L(G)} = \infty$.
  \end{enumerate}
\end{thm}
\begin{proof}
  Нека е дадена една безконтекстна граматика $G$.
  Нека да разгледаме граматиката $G'$ в НФЧ без безполезни променливи, за която $\L(G) = \L(G')$.
  От граматиката $G' = \pair{V',\Sigma,S,R'}$ строим граф с възли променливите от $V'$ като
  за $A,B \in V'$ имаме ребро $A \to B$ точно тогава, когато съществува $C \in V'$,
  за което $A \to BC$ или $A \to CB$ е правило в $R'$.
  
  Ако в получения граф имаме цикъл, то $\L(G') = \infty$.

  Да разгледаме един такъв цикъл:
  \[A_0 \to \alpha_1 A_1 \beta_1 \to \alpha_2 A_2 \beta_2 \to \cdots \to \alpha_n A_n \beta_n \to \alpha_{n+1} A_0 \beta_{n+1}.\]
  Понеже граматиката е в НФЧ имаме, че $|\alpha_i\beta_i| = i$.
  Понеже няма безполезни символи в граматика и тя е в НФЧ следва, че $\alpha_{n+1} \to^\star \omega$ и $\beta_{n+1} \to^\star \rho$,
  където $|\omega\rho| \geq n+1$, защото $|\alpha_{n+1}\beta_{n+1}| = n+1$.
  Понеже няма безполезни символи в граматиката, то съществуват $\delta, \gamma \in \Sigma^\star$, за които
  $S \to^\star_G \delta  A_0 \gamma$. Получаваме:
  \[ S \to^\star_G \delta A_0 \gamma \to^\star_G \delta \alpha_{n+1} A_0 \beta_{n+1} \gamma \to^\star_G \delta \omega A_0 \rho\gamma \to^\star \cdots \to^\star \delta \omega^i A_0 \rho^i \gamma \to \delta\omega^i\alpha\rho^i\gamma,\]
  където $A_0 \to^\star_G \alpha$.

  Ако в графът няма цикли, то езикът $\L(G)$ е краен, защото ако от променливата $A$ най-дългият път има дължина $k+1$,
  то за променливите $B$ и $C$, за които имаме правилото $A\to BC$, най-дългият път от $B$ и $C$ има дължина най-много $k$.

  Може да се докаже с индукция по $k$, че ако най-дългият път от $A$ има дължина $k$, то от $A$ се извеждат само думи с дължина $\leq 2^k$.
  \begin{itemize}
  \item
    Ако дължината $k = 0$, то няма върхове излизащи от $A$. Това означава, че в граматиката единствената възможност е $A \to a$, за някои букви $a \in \Sigma$.
  \item
    Нека $k > 0$. Тогава имаме поне едно правило $A \to BC$ и дължината от $B$ и $C$ е най-много $k$.
    Тогава от И.П. следва, че от $B$ и $C$ се извеждат само думи с дължина $\leq 2^{k-1}$. Тогава от $A$ се извеждат думи с дължина $\leq 2^{k-1} + 2^{k-1} = 2^k$.
  \end{itemize}
\end{proof}




%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../eai"
%%% End:

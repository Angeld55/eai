
За дума $\alpha = a_1 \cdot a_2 \cdots a_n$, нека да означим
\begin{itemize}
\item 
  $\alpha[i,j] = a_i \cdot a_{i+1} \cdots a_j$,
\item
  $\alpha[i..] = a_i \cdot a_{i+1} \cdots a_n$.
\end{itemize}

Нека също така да означим $\Sigma^{\geq k} = \{ \alpha \in \Sigma^\star \mid |\alpha| \geq k\}$.

\begin{problem}
  Нека $L$ е регулярен език.
  Тогава езиците
  \begin{itemize}
  \item
    $L_1 = \{ \alpha \in \Sigma^\star \mid (\exists i)(\exists j)[\ \alpha[i,j] \in L\ ]\}$;
  \item
    $L_2 = \{ \alpha \in \Sigma^\star \mid (\forall i)(\forall j)[\ \alpha[i,j] \in L\ ]\}$;
  \item 
    $L_3 = \{ \alpha \in \Sigma^\star \mid (\forall i)(\exists j)[\ \alpha[i,j] \in L\ ]\}$;
  \item
    $L_4 = \{ \alpha \in \Sigma^\star \mid (\exists i)(\forall j)[\ \alpha[i,j] \in L\ ]\}$.
  \end{itemize}
  също са регулярни.
\end{problem}
\begin{hint}
  Лесно се вижда, че
  \[L_1 = \Sigma^\star \cdot L \cdot \Sigma^\star,\]
  както и следното
  \[L_2 = \ov{\Sigma^\star \cdot \ov{L} \cdot \Sigma^\star}.\]
  Да обърнем внимание, че
  \begin{align*}
    \alpha \in \Sigma^\star \cdot L & \iff (\exists \beta \in \Sigma^\star)(\exists \gamma \in L)[ \alpha = \beta \cdot \gamma]\\
                                    & \iff (\exists j)[\ \alpha[j..] \in L\ ].
  \end{align*}
  Аналогично получаваме, че
    \begin{align*}
      \alpha \in L\cdot \Sigma^\star & \iff (\exists \gamma \in L)(\exists \beta \in \Sigma^\star)[ \alpha = \gamma \cdot \beta ]\\
                                     & \iff (\exists j)[\ \alpha[1,j] \in L\ ].
  \end{align*}
  Нека да разгледаме по-подробно следния език:
  \begin{align*}
    \ov{L}_3 & = \{\alpha \in \Sigma^\star \mid (\exists i)(\forall j)[\ \alpha[i,j] \not\in L\ ]\}\\
             & = \{\alpha \in \Sigma^\star \mid (\exists i)(\forall j)[\ \alpha[i,j] \in \ov{L}\ ]\}\\
             & = \{\alpha \in \Sigma^\star \mid (\forall j)[\ \alpha[1,j] \in \Sigma^\star \cdot \ov{L}\ ]\}\\
  \end{align*}
  Така получаваме, че:
  \begin{align*}
    L_3 & = \{\alpha \in \Sigma^\star \mid (\exists j)[\ \alpha[1,j] \not\in \Sigma^\star \cdot \ov{L}\ ]\}\\
        & = \{\alpha \in \Sigma^\star \mid (\exists j)[\ \alpha[1,j] \in \ov{\Sigma^\star \cdot \ov{L}}\ ]\}\\
        & = \{\alpha \in \Sigma^\star \mid \alpha \in (\ov{\Sigma^\star \cdot \ov{L}}) \cdot \Sigma^\star \ ]\}.
  \end{align*}
  Оттук заключваме, че
  \[L_3 = (\ov{\Sigma^\star \cdot \ov{L}}) \cdot \Sigma^\star.\]
  Сега лесно можем да съобразим, че
  \[ L_4 = \ov{ \ov{(\Sigma^\star \cdot L)} \cdot \Sigma^\star}.\]
\end{hint}

\begin{problem}
  Нека $L$ е регулярен език над азбуката $\Sigma$.
  За произволно естествено число $k$, докажете, че езикът
  \[L_k = \{ \alpha \in \Sigma^\star \mid (\forall i)(\exists j)[\ |\alpha[i..]| \geq k \implies \alpha[i,j] \in L\ ]\}\]
  е регулярен.
\end{problem}
\begin{hint}
  \begin{align*}
    L_k & = \{ \alpha \in \Sigma^\star \mid (\forall i)(\exists j)[\ |\alpha[i..]| \geq k \implies \alpha[i,j] \in L\ ]\}\\
        & = \{ \alpha \in \Sigma^\star \mid (\forall i)[\ |\alpha[i..]| \geq k \implies (\exists j)[\alpha[i,j] \in L]\ ]\}\\
        & = \{ \alpha \in \Sigma^\star \mid (\forall i)[\ \alpha[i..] \in \Sigma^{\geq k} \implies \alpha[i..] \in L \cdot \Sigma^\star\ ]\}.
  \end{align*}
  Тогава
  \begin{align*}
    \ov{L}_k & = \{ \alpha \in \Sigma^\star \mid (\exists i)[\ \alpha[i..] \in \Sigma^{\geq k}\ \&\ \alpha[i..] \not\in L \cdot \Sigma^\star\ ]\}\\
             & = \{ \alpha \in \Sigma^\star \mid (\exists i)[\ \alpha[i..] \in \Sigma^{\geq k}\ \&\ \alpha[i..] \in \ov{L \cdot \Sigma^\star}\ ]\}\\
             & = \{ \alpha \in \Sigma^\star \mid (\exists i)[\ \alpha[i..] \in \Sigma^{\geq k} \cap \ov{L \cdot \Sigma^\star} \ ]\}\\
             & = \{ \alpha \in \Sigma^\star \mid \alpha \in \Sigma^\star \cdot (\Sigma^{\geq k} \cap \ov{L \cdot \Sigma^\star}) \}.
  \end{align*}
  Сега е ясно, че
  \[L_k = \ov{\Sigma^\star \cdot (\Sigma^{\geq k} \cap \ov{L \cdot \Sigma^\star})}.\]
\end{hint}



% \begin{problem}
%   За думите от вида $\alpha = a_1 \cdot a_2 \cdots a_n$, да означим
%   \[\alpha[i,j,k] = a_i \cdot a_{i+1} \cdots a_j \cdot a_k \cdot a_{k+1} \cdots a_n.\]
  
%   Тогава езикът
%   \[L_5 = \{ \alpha \in \Sigma^\star \mid (\exists i)(\forall j)(\exists k)[\ \alpha[i,j,k] \in L\ ]\}\]
%   също е регулярен.
% \end{problem}


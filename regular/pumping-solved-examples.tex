\subsection{Примерни задачи}

\begin{extra}
\begin{problem}
  Докажете, че езикът $L = \{a^mb^n \mid m,n\in \Nat\ \&\ m < n\}$ не е регулярен.
\end{problem}
\begin{proof}
  \mynote{На стъпка от вида $(\forall)$ нямаме власт над това как избираме съответния елемент.
    
  На стъпка от вида $(\exists)$ имаме тази власт. Тогава трябва да посочим конкретен елемент.}
  Доказателството следва стъпките:
  \begin{description}
  \item[$(\forall)$]
    Разглеждаме произволно число $p \geq 1$.
  \item[$(\exists)$]
    Избираме дума $\alpha \in L$, за която $\abs{\alpha} \geq p$. Имаме свободата да изберем каквато дума $\alpha$
    си харесаме, стига тя да принадлежи на $L$ и да има дължина поне $p$.
    Щом имаме тази свобода, нека да изберем думата $\alpha = a^{p}b^{p+1} \in L$. Очевидно е, че $\abs{\alpha} \geq p$.
  \item[$(\forall)$]
    Разглеждаме произволно разбиване на $\alpha$ на три части, $\alpha = xyz$,
    за които изискваме свойствата $\abs{xy} \leq p$ и $\abs{y} \geq 1$.
  \item[$(\exists)$]
    \mynote{Тук изборът на $i$ не зависи от изборите, които сме направили на предишните стъпки.}
    Ще намерим конкретно $i\in\Nat$, за което $xy^iz \not\in L$.
    Понеже $\abs{xy} \leq p$, то $y = a^k$, за  $1\leq k \leq p$.
    Тогава ако вземем $i = 2$, получаваме 
    \[xy^2z = a^{p-k}a^{2k}b^{p+1} = a^{p+k}b^{p+1}.\]
    Ясно е, че $xy^2z \not\in L$, защото $p+k \geq p+1$.
  \end{description}
  Тогава от \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването} следва, че $L$ не е регулярен език.
\end{proof}

\begin{problem}
  Докажете, че езикът $L = \{a^n\ \mid\ n\mbox{ е просто число}\}$ не е регулярен.
\end{problem}
\begin{proof}
  Доказателството следва стъпките:
  \begin{description}
  \item[$(\forall)$] 
    Разглеждаме произволно число $p \geq 1$.
  \item[$(\exists)$]
    Избираме дума $w \in L$, за която $\abs{w} \geq p$. Можем да изберем каквото $w$ 
    си харесаме, стига то да принадлежи на $L$ и да има дължина поне $p$.
    Нека да изберем една конкретна дума $w \in L$, такава че $\abs{w} > p+1$.
    Знаем, че такава дума съществува, защото $L$ е безкраен език. По-долу ще видим защо този избор е важен за нашите разсъждения.
  \item[$(\forall)$]
    \mynote{Обърнете внимание, че тук е по-интересно. Изборът на $i$ зависи от предишната стъпка, на която сме разбили думата $w$ на три части.}
    Разглеждаме произволно разбиване на $w$ на три части, $w = xyz$,
    за които изискваме свойствата $\abs{xy} \leq p$ и $\abs{y} \geq 1$.
  \item[$(\exists)$]
    Ще намерим конкретно $i$, за което $xy^iz \not\in L$,
    т.е. ще намерим $i$, за което 
    $\abs{xy^iz} = \abs{xz} + i\cdot\abs{y}$ е {\em съставно число}.
    Понеже $\abs{xy} \leq p$ и $\abs{xyz} > p+1$, то $\abs{z} > 1$.
    Да изберем $i = \abs{xz} > 1$. Тогава:
    \[\abs{xy^iz} = \abs{xz} + i.\abs{y} = \abs{xz} + \abs{xz}.\abs{y} = (1 + \abs{y})\abs{xz}\] е съставно число, следователно 
    $xy^iz \not\in L$.
    \mynote{Изискваме $|w| > p+1$, защото искаме да гарантираме, че $|xz| > 1$.}
  \end{description}
  Тогава от \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването} следва, че $L$ не е регулярен език.
\end{proof}

\begin{problem}
  Докажете, че езикът $L = \{a^{n^2}\ \mid\ n\in\Nat\}$ не е регулярен.  
\end{problem}
\begin{proof}
  В тази задача ще използваме следното свойство:
  \[n\text{ не е точен квадрат} \iff (\exists p\in \Nat)[p^2 < n < (p+1)^2].\]
  Доказателството следва стъпките:
  \begin{description}
  \item[$(\forall)$]
    Разглеждаме произволно число $p \geq 1$.
  \item[$(\exists)$]
    Избираме достатъчно дълга дума, която принадлежи на езика $L$.
    За да бъдем конкретни, нека $w = a^{p^2}$.
  \item[$(\forall)$]
    Разглеждаме произволно разбиване на $w$ на три части, $w = xyz$, 
    като $\abs{xy} \leq p$ и $\abs{y} \geq 1$.
  \item[$(\exists)$]
    Ще намерим конкретно $i$, за което $xy^iz \not\in L$.
    В нашия случай това означава, че $\abs{xz} + i\cdot\abs{y}$ не е точен квадрат.
    Тогава за $i = 2$,
    \[p^2 = \abs{xyz} < \abs{xy^2z} = \abs{xyz} + \abs{y} \leq p^2 + p < p^2 + 2p + 1 = (p+1)^2 .\]
    Получаваме, че $p^2 < \abs{xy^2z} < (p+1)^2$,
    откъдето следва, че $\abs{xy^2z}$ не е точен квадрат.
    Следователно, $xy^2z \not\in L$.
  \end{description}
  Тогава от \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването} следва, че $L$ не е регулярен език.  
\end{proof}

\begin{problem}
  Докажете, че езикът $L = \{a^{n!}\ \mid\ n\in\Nat\}$ не е регулярен.  
\end{problem}
\begin{proof}
  Доказателството следва стъпките:
  \begin{description}
  \item[$(\forall)$]
    Разглеждаме произволно число $p \geq 1$.
  \item[$(\exists)$]
    Избираме достатъчно дълга дума, която принадлежи на езика $L$. 
    За да бъдем конкретни, нека $\omega = a^{(p+1)!}$.
  \item[$(\forall)$]
    Разглеждаме произволно разбиване на $\omega$ на три части, $\omega = xyz$, 
    като $\abs{xy} \leq p$ и $\abs{y} \geq 1$.
    Да обърнем внимание, че $1 \leq \abs{y} \leq p$.
  \item[$(\exists)$]
    Ще намерим конкретно $i$, за което $xy^iz \not\in L$.
    Това означава да съществува $n$, за което
    \[n! < |xy^iz| < (n+1)!\]
    Да разгледаме $i = 2$. Тогава:
    \mynote{Възможно е да вземем $w = a^{(p+2)!}$. Тогава възможно ли е $xy^0z \not\in L$?
      Понеже $\abs{xyz} = (p+2)!$, това означава, че би трябвало $\abs{xz} = k!$, за някое $k \leq p+1$.
      Тогава
      \begin{align*}
        \abs{y} & = \abs{xyz} - \abs{xz}\\
                & = (p+2)! - k!\\
                & \geq (p+2)! - (p+1)!\\
                & = (p+1).(p+1)!\\
                & > p.
      \end{align*}
      Достигнахме до противоречие с условието, че $\abs{y} \leq p$.}
    \begin{align*}
      (p+1)! & < |xy^2z| \\
             & = (p+1)! + |y|\\
             & \leq (p+1)! + p \\
             & < (p+1)! + (p+1)!(p+1) \\
             & = (p+2)!
    \end{align*}
  \end{description}
  Тогава от \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването} следва, че $L$ не е регулярен език.  
\end{proof}

\begin{problem}
  Докажете, че езикът $L = \{\alpha\beta \in \{a,b\}^\star \mid |\alpha| = |\beta|\ \&\ \alpha \neq \beta\}$ не е регулярен.
\end{problem}
\begin{hint}
  Да допуснем, че $L$ е регулярен.
  Тогава езикът $\ov{L} = \{a,b\}^\star \setminus L$ също е регулярен.
  Ясно е, че
  \[\ov{L} = \{ \alpha\beta \in \{a,b\}^\star\ \mid\ \alpha = \beta\}\ \cup\ \{\omega \in \{a,b\}^\star \mid |\omega| \text{ е нечетно число}\}.\]
  Тогава езикът $L_1 = \ov{L} \cap \{ \omega \in \{a,b\}^\star \mid |\omega| \text{ е четно число}\}$ също е регулярен.
  Ясно е, че $L_1 = \{\alpha\beta \in \{a,b\}^\star\ \mid\ \alpha = \beta\}$.
  Сега можем да разгледаме регулярния език
  \[L_2 = L_1 \cap \L(\mathbf{a^\star b a^\star b}) = \{a^n b a^n b \mid n \in \Nat\}.\]
  За него вече лесно можем да приложим \hyperref[lem:regular:pumping]{Лемата за покачването} и да получим, че $L_2$ не е регулярен.
  Така достигаме до противоречие с допускането, че $L$ е регулярен.
\end{hint}
\end{extra}

\subsection*{Пример, за който лемата не е  приложима}

% Добре е да отбележим, че \hyperref[lem:pumping-reg]{Лемата за покачването} не задава пълен критерий за проверка за регулярност на език.
Да напомним, че условието на \hyperref[lem:regular:pumping]{Лемата за покачването} представлява твърдението:
\begin{center}
  {\em ,,Aко $L$ е регулярен език, то е изпълнено $P_{\text{reg}}(L)$.''}
\end{center}
Сега ще видим, че можем да посочим език $L$, който не е регулярен, но въпреки това условието $P_{\text{reg}}(L)$ е изпълнено.
Това означава, че нямаме обратната посока на горната импликация и може да срещнем примери за езици, които макар и нерегулярни, не можем да докажем тяхната нерегулярност с помощта на \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването}.
По-късно ще видим един пълен критерий за проверка за регулярност на език.

\begin{example}
  Езикът
  \[L = \{c\}^+\cdot\{a^nb^n\mid n\in\Nat\}\cup \{a\}^\star \cdot \{b\}^\star\]
  {\bf не} е регулярен, но условието $P_{\text{reg}}(L)$ е изпълнено.
\end{example}
\begin{hint}
  \mynote{
    За да покажем, че $P_{\text{reg}}(L)$ е изпълнено, трябва да следваме стъпките:
    \begin{description}
    \item[$(\exists)$]
      Избираме конкретно число $p \geq 1$.
    \item[$(\forall)$]
      Разглеждаме произволна дума $\alpha \in L$ и $\abs{\alpha} \geq p$.
    \item[$(\exists)$]
      Посочваме конкретно разбиване на думата $\alpha$ като $\alpha = xyz$ със свойството $\abs{xy} \leq p$ и $\abs{y} \geq 1$.
    \item[$(\forall)$]
      За всяко $i$ трябва да покажем, че $xy^iz \in L$.
    \end{description}
  }
  Ако допуснем, че $L$ е регулярен, то тогава ще следва, че 
  \[L_1 = L\cap \L(\mathbf{ca^\star b^\star}) = \{ca^nb^n \mid n\in\Nat\}\]
  е регулярен, но с \hyperref[cor:regular:pumping]{контрапозицията на лемата за покачването} лесно се вижда, че $L_1$ не е. Сега да проверим, че $P_{\text{reg}}(L)$ е изпълнено. 
  \begin{description}
  \item[$(\exists)$]
    Нека изберем $p = 2$.
  \item[$(\forall)$]
    Сега трябва да разгледаме всички думи $\alpha \in L$, $\abs{\alpha} \geq 2$.
  \item[$(\exists)$]
    Нека разбием думата $\alpha$ на три части по следния начин:
    \[x = \varepsilon,\ y = \alpha\slice{0},\ z = \alpha\slice{1:}.\]
  \item[$(\forall)$]
    Съобразете, че за всяко $i \in \Nat$ имаме, че $xy^iz \in L$.
  \end{description}
\end{hint}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../eai"
%%% End:

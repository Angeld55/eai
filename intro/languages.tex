\section{Азбуки, думи, езици}

\epigraph{Language is an app for converting a web of thoughts into a string of words. [Steven Pinker]}

\subsubsection*{Основни понятия}

\begin{itemize}
\item 
  \index{азбука}
  \index{буква}
  {\bf Азбука} ще наричаме всяко крайно множество,
  като обикновено ще я означаваме със $\Sigma$.
  \mynote{Често ще използваме буквите $a$, $b$, $c$ за да означаваме букви.}
  Елементите на азбуката $\Sigma$ ще наричаме {\bf букви}.
\item
  \index{дума}
  {\bf Дума} над азбуката $\Sigma$ е произволна крайна редица от елементи на $\Sigma$.
  Например, за $\Sigma = \{a,b\}$, $aababba$ е дума над $\Sigma$ с дължина $7$.
  С $\abs{\alpha}$ ще означаваме дължината на думата $\alpha$.
  \mynote{Обикновено ще означаваме думите с $\alpha$, $\beta$, $\gamma$, $\omega$.}
\item
  \index{дума!празна}
  Обърнете внимание, че имаме единствена дума с дължина $0$.
  Тази дума ще означаваме с $\varepsilon$ и ще я наричаме {\bf празната дума},
  т.е. $\abs{\varepsilon} = 0$.
\item
  С $a^n$ ще означаваме думата съставена от $n$ $a$-та.
  Формалната индуктивна дефиниция е следната:
  \begin{align*}
    a^0 & \df \varepsilon,\\
    a^{n+1} & \df a^na.
  \end{align*}
\item
  Множеството от всички думи над азбуката $\Sigma$ ще означаваме със $\Sigma^\star$.
  Например, за $\Sigma = \{a,b\}$,
  \[\Sigma^\star = \{\varepsilon,a,b,aa,ab,ba,bb,aaa,aab,\dots\}.\]
  Обърнете внимание, че $\emptyset^\star = \{\varepsilon\}$.
\item
  \index{език}
  {\bf Език} над азбуката $\Sigma$ ще наричаме всяко подмножество на $\Sigma^\star$.
  Например, за азбуката $\Sigma = \{a, b\}$, множоеството от думи $L = \{\alpha \in \{a, b\}^\star \mid \alpha\mbox{ започва с }a\}$ 
  е пример за език над $\Sigma$.
\end{itemize}

\subsection*{Операции върху думи}

\begin{itemize}
\item
  \index{дума!конкатенация}
  Операцията {\bf конкатенация} взима две думи $\alpha$ и $\beta$ и образува 
  новата дума $\alpha\cdot\beta$ като слепва двете думи.
  Например $aba\cdot bb = ababb$.
  Обърнете внимание, че в общия 
  случай $\alpha\cdot\beta \neq \beta\cdot\alpha$. 
  \mynote{Често ще пишем $\alpha\beta$ вместо $\alpha\cdot\beta$}
  Можем да дадем формална индуктивна дефиниция на операцията конкатенация по
  дължината на думата $\beta$.
  \begin{itemize}
  \item 
    Ако $\abs{\beta} = 0$, то $\beta = \varepsilon$.
    Тогава $\alpha\cdot \varepsilon \df \alpha$.
  \item
    Ако $\abs{\beta} = n+1$, то $\beta = \gamma b$, $\abs{\gamma} = n$.
    Тогава $\alpha\cdot\beta \df (\alpha\cdot\gamma)b$.
  \end{itemize}
\item
  \index{дума!обръщане}
  Друга често срещана операция върху думи е {\bf обръщането} на дума.
  Дефинираме думата $\alpha^{\rev}$ като обръщането на $\alpha$ по следния начин.
  \mynote{Например, $reverse^{\rev} = esrever$}
  \begin{itemize}
  \item 
    Ако $\abs{\alpha} = 0$, то $\alpha = \varepsilon$ и $\alpha^{\rev} \df \varepsilon$.
  \item
    Ако $\abs{\alpha} = n+1$, то $\alpha = a\beta$, където $\abs{\beta} = n$. Тогава
    \[\alpha^{\rev} \df (\beta^{\rev})a.\]
  \end{itemize}

\item
  \mynote{Обърнете внимание, че:
    \begin{align*}
      & \emptyset\cdot A = A\cdot\emptyset = \emptyset\\
      & \{\varepsilon\}\cdot A = A\cdot\{\varepsilon\} = A.
    \end{align*}}
  Дефинираме конкатенацията на езиците $A$ и $B$ като
  \[A\cdot B \df \{\alpha\cdot\beta \mid \alpha\in A\ \&\ \beta \in B\}.\]
\item
  Сега за един език $A$, дефинираме $A^n$ индуктивно:
  \begin{align*}
    A^0 & \df \{\varepsilon\},\\
    A^{n+1} & \df A^n \cdot A.
  \end{align*}
  \begin{itemize}
  \item
    Ако $A = \{ab, ba\}$, то $A^0 = \{\varepsilon\}$, $A^1 = A$, $A^2 = \{abab, abba, baba, baab\}$.
  \item
    Ако $A = \{a,b\}$, то $A^n = \{\alpha \in \{a,b\}^\star \mid \abs{\alpha} = n\}$.
  \end{itemize}
\item
  За един език $A$, дефинираме:
  \mynote{Операцията $\star$ е известна като звезда на Клини.}
  \index{език!звезда на Клини}
  \index{Клини}
  \begin{align*}
    A^{\star} & \df \bigcup_{n\geq 0} A^{n}\\
    & = A^{0} \cup A^{1} \cup A^{2} \cup A^{3} \cup \dots\\
    A^{+} & \df A\cdot A^{\star}.
  \end{align*}
\end{itemize}

\begin{example}
  Нека да разгледаме няколко примера какво точно представлява прилагането
  на операцията звезда на Клини върху един език.
  \begin{itemize}
  \item 
    Нека $L = \{0,11\}$. Тогава:
    \begin{itemize}
    \item 
      $L^0 = \{\varepsilon\}$, $L^1 = L$,
    \item
      $L^2 = L^1\cdot L^1 = \{00,011,110,1111\}$,
    \item
      $L^3 = L^1\cdot L^2 = \{000,0011,0110,01111,1100,11011,11110,111111\}$.
    \end{itemize}
  \item
    Нека $L = \emptyset$. Тогава $L^0 = \{\varepsilon\}$, $L^1 = \emptyset$ и $L^2 = L^1 \cdot L^1 = \emptyset$.
    Получаваме, че $L^\star = \{\varepsilon\}$, т.е. {\em краен} език
  \item
    Нека $L = \{0^i\mid i \in \Nat\} = \{\varepsilon, 0, 00, 000, \dots\}$.
    Лесно се вижда, че $L = L^\star$.
  \end{itemize}
\end{example}

% \subsection*{Премахване на префикс}


\begin{extra}
\begin{problem}
  Проверете:
  \begin{enumerate}[a)]
  \item 
    операцията конкатенация е {\em асоциативна}, т.е. за всеки три думи $\alpha$, $\beta$, $\gamma$,
    \[(\alpha\cdot\beta)\cdot\gamma = \alpha\cdot(\beta\cdot\gamma);\]
  \item
    за произволни езици $A$, $B$ и $C$, 
    \[(A\cdot B)\cdot C = A\cdot (B\cdot C);\]
  \item
    $\{\varepsilon\}^\star = \{\varepsilon\}$;
  \item
    за произволен език $A$,
    \[A^\star = A^\star\cdot A^\star\text{ и }(A^\star)^\star = A^\star;\]
  \item
    за произволни букви $a$ и $b$,
    \[\{a,b\}^\star = \{a\}^\star\cdot(\{b\}\cdot\{a\}^\star)^\star;\]
  \item
    за произволни букви $a$ и $b$,
    \[\{a,b\}^\star = (\{a\}^\star\cdot \{b\}^\star)^\star;\]
  \end{enumerate}
\end{problem}

\begin{problem}
  Докажете, че за всеки две думи $\alpha$ и $\beta$ е изпълено:
  \begin{enumerate}[a)]
  \item 
    $(\alpha\cdot\beta)^{\rev} = \beta^{\rev}\cdot\alpha^{\rev}$;
  \item
    $\alpha$ е префикс на $\beta$ точно тогава, когато $\alpha^{\rev}$ е суфикс на $\beta^{\rev}$;
  \item
    $(\alpha^{\rev})^{\rev} = \alpha$;
  \item
    $(\alpha^n)^{\rev} = (\alpha^{\rev})^n$, за всяко $n \geq 0$.
  \end{enumerate}
\end{problem}
\end{extra}

\subsubsection*{Отрези на дума}\label{sect:intro:slices}
\index{дума!отрез}

% https://stackoverflow.com/questions/509211/understanding-slice-notation
Понякога може да е удобно да вземем назаем от \texttt{python} нотацията за \texttt{slices} на масив и
ако думата $\alpha = a_0 a_1 \cdots a_{n-1}$, то нека 
\begin{align*}
  \alpha\slice{i} & \df a_i\\
  \alpha\slice{i:j} & \df
                      \begin{cases}
                        a_i \cdots a_{m-1}, & \text{ ако }i < j\ \&\ m = \min\{j,|\alpha|\}\\
                        \varepsilon, & \text{ иначе}
                      \end{cases}\\
  \alpha\slice{i:} & \df \alpha\slice{i:|\alpha|}\\
  \alpha\slice{:i} & \df \alpha\slice{0:i}\\
\end{align*}


\subsubsection*{Релации между думи}

\begin{itemize}
\item 
  \index{дума!префикс}
  Казваме, че думата $\alpha$ е {\bf префикс} на думата $\beta$,
  ако съществува дума $\gamma$, такава че $\beta = \alpha\cdot\gamma$.
  Да обърнем внимание, че позволяваме $\gamma = \varepsilon$. Тогава $\beta$ е префикс на самата себе си.
  Ако се ограничим до думи $\gamma \neq \varepsilon$, то ще казваме, че $\alpha$ е \emph{същински} префикс на $\beta$.
\item
  За един език $L$, можем да дефинираме езика от префиксите на думите от $L$, т.е.
  \[\texttt{Pref}(L) = \{\alpha \in \Sigma^\star \mid (\exists \gamma \in \Sigma^\star)[\alpha\cdot \gamma \in L]\}.\]
\item
  \index{дума!суфикс}
  $\alpha$ е {\bf суфикс} на $\beta$, ако $\beta = \gamma\cdot\alpha$, за някоя дума $\gamma$.
\item
  За един език $L$, можем да дефинираме езика от суфиксите на думите от $L$, т.е.
  \[\texttt{Suff}(L) = \{\alpha \in \Sigma^\star \mid (\exists \gamma \in \Sigma^\star)[\gamma\cdot\alpha \in L]\}.\]
\item
  \index{наредба!лексикографска}
  \mynote{Тук не е съществено, че буквите в азбуката $\Sigma$ са числа. Можем да дефинираме наредба между елементите на произволна крайна азбука.}
  Нека имаме азбука $\Sigma = \{0,1,2,\dots,n\}$.
  Казваме, че една дума $\alpha$ е лексикографски по-малка от $\beta$, което ще означаваме като $\alpha <_{\texttt{lex}} \beta$, ако $\alpha$ е префикс на $\beta$ или
  \[(\exists i < \min\{|\alpha|,|\beta|\})[\ \alpha\slice{:i} = \beta\slice{:i}\ \&\ \alpha\slice{i} < \beta\slice{i}\ ].\]
\end{itemize}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../eai"
%%% End:
